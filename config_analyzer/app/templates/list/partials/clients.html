{# templates/list/partials/clients.html #}
{% extends 'list/partials/_base_list_partial.html' %}

{% block default_title %}Clients{% endblock %}

{% block add_url %}{{ url_for('clients.add') }}{% endblock %}
{% block add_text %}Ajouter un client{% endblock %}

{% block search_input_id %}clientsSearchInput{% endblock %}
{% block filter_input_id %}clientsSearchInput{% endblock %}
{% block table_id %}clientsTable{% endblock %}
{% block table_id_js %}clientsTable{% endblock %}
{% block search_placeholder %}Rechercher un client...{% endblock %}
{% block filter_columns %}4{% endblock %}

{% block tbody_id %}clients-table-body{% endblock %}
{% block tbody_id_js %}clients-table-body{% endblock %}

{% block empty_message %}Aucun client trouvé.{% endblock %}

{% block table_headers %}
<th scope="col">Nom</th>
<th scope="col">Code Postal</th>
<th scope="col">Ville</th>
<th scope="col">Code Pays</th>
{% if not is_embedded|default(false) %}
<th scope="col" class="no-sort">Actions</th>
{% endif %}
{% endblock %}

{% block table_rows %}
{% for client in items %}
<tr>
    <td>
        <a href="{{ url_for('clients.view', slug=client.slug) }}">
            {{ client.name }}
        </a>
    </td>
    <td>{{ client.postal_code_relation.code }}</td>
    <td>{{ client.postal_code_relation.city }}</td>
    <td>{{ client.postal_code_relation.country_code }}</td>
    {% if not is_embedded|default(false) %}
    {{ action_buttons(
        view_url=url_for('clients.view', slug=client.slug),
        edit_url=url_for('clients.edit', slug=client.slug),
        delete_url=url_for('clients.delete', slug=client.slug),
        delete_message='Êtes-vous sûr de vouloir supprimer ce client ?'
    ) }}
    {% endif %}
</tr>
{% endfor %}
{% endblock %}