{# list/partials/parameter_definitions.html #}
{% if items is defined %}
{% from 'macros/_table_ui.html' import init_search, card_header, action_buttons, alert_empty_list, display_param_type_badge with context %}

<div class="card mb-4">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0">
            <i class="fas fa-cogs me-2"></i>{{ title|default('Paramètres spécifiques') }}
            {% if show_badge|default(true) %}
            <span class="badge bg-primary ms-2">{{ items|length }}</span>
            {% endif %}
        </h5>
        {% if show_add_button|default(true) and (items|length > 0 or not hide_add_when_empty|default(true)) %}
            <a href="{{ add_url|default(url_for('additional_params_config.add', entity_type=entity_type, entity_slug=entity_slug)) }}" class="btn btn-sm btn-primary">
                <i class="fas fa-plus me-1"></i>{{ add_text|default('Ajouter un paramètre') }}
            </a>
        {% endif %}
    </div>
    
    <div class="card-body">
        {% if items|length > 0 %}
            {# Contenu existant pour l'affichage de la liste #}
        {% else %}
            <div class="alert alert-info">
                <i class="fas fa-info-circle me-2"></i>Aucun paramètre configuré
                <a href="{{ add_url|default(url_for('additional_params_config.add', entity_type=entity_type, entity_slug=entity_slug)) }}" class="alert-link">
                    {{ add_text|default('Ajouter un premier paramètre') }}
                </a>
            </div>
        {% endif %}
    </div>
</div>

{{ init_search('paramDefTable', 'paramDefSearchInput') }}
{% endif %}